<form
  [formGroup]="form"
  class="login-card"
  (ngSubmit)="submit()"
>
  <h2 class="text-center fw-bold mb-3">Inicio Sesión</h2>
  <p class="text-center text-secondary mb-4">Ingresa tus credenciales</p>

  <!-- EMAIL -->
  <div class="form-group">
    <label for="email" class="form-label">Correo electrónico</label>
    <div class="input-container">
      <i class="bi bi-envelope"></i>
      <input
        type="email"
        id="email"
        formControlName="email"
        class="form-control"
        placeholder="Correo electrónico"
        [class.is-invalid]="email?.invalid && (email?.touched || email?.dirty)"
        maxlength="50"
      />
    </div>
    @if (email?.invalid && (email?.touched || email?.dirty)) {
      <div class="invalid-feedback d-block">
        @if (email?.errors?.['required']) {
          <span>El correo es obligatorio.</span>
        }
        @if (email?.errors?.['email']) {
          <span>Formato de correo inválido.</span>
        }
        @if (email?.errors?.['maxLength']) {
          <span>Máximo 50 caracteres.</span>
        } 
      </div>
    }
  </div>

  <!-- PASSWORD -->
  <div class="form-group">
    <label for="password" class="form-label">Contraseña</label>
    <div class="input-container">
      <i class="bi bi-lock"></i>
      <input
        type="password"
        id="password"
        formControlName="password"
        class="form-control"
        placeholder="Contraseña"
        [class.is-invalid]="password?.invalid && (password?.touched || password?.dirty)"
        minlength="8"
        maxlength="20"
      />
    </div>
    @if (password?.invalid && (password?.touched || password?.dirty)) {
      <div class="invalid-feedback d-block">
        @if (password?.errors?.['required']) {
          <span>La contraseña es obligatoria.</span>
        }
        @if (password?.errors?.['minlength']) {
          <span>Mínimo 8 caracteres.</span>
        }
        @if (password?.errors?.['maxlength']) {
          <span>Máximo 20 caracteres.</span>
        }
      </div>
    }
  </div>

  <!-- BOTÓN -->
  <button type="submit" class="btn-login" [disabled]="loading">
    @if (!loading) {
      <span>Ingresar</span>
    }
    @if (loading) {
      <span><span class="spinner-border spinner-border-sm me-2"></span>Ingresando...</span>
    }
  </button>

  <!-- LINKS -->
  <div class="text-center mt-3">
    <a href="#" class="text-primary text-decoration-none small">¿Olvidaste tu contraseña?</a>
  </div>
  <div class="text-center mt-2">
    <span class="text-secondary small">¿No tienes cuenta?</span>
    <a routerLink="/register" class="text-primary text-decoration-none fw-semibold">Registrarse</a>
  </div>
</form>